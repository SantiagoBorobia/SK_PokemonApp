<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="Grid.css">
    <link rel="stylesheet" type="text/css" href="style-pokemonInfo.css">
    
	<title>Soluciones Kuali Front-end Challenge</title>
</head>
<body onload="getPokemon()">
    <div id="wrapper">
        
<!--***************************
    INFORMACION DEL POKEMON 
    *************************** -->
        <header>
            <div class="row heading">
                <img class="logo-small" src="Images/PokemonLogo.png">
            </div>
            
            <div class="row info">
                <div class="pokeImage">
                    <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/25.png">
                </div>
                <div class="pokeInfo">
                    <h2 id="pokeName">PIKACHU</h2>
                    <p id="pokeId">No. 025</p>
                    
                    <p class="infoLabel">Habilidades</p>
                    <ul id="pokeAbilities">
                        <li>Static</li>
                        <li>Lightning-rod</li>
                    </ul>
                    <hr/>
                    
                    <p class="infoLabel">Experiencia base</p>
                    <ul id="baseExperience">
                        <li>112 XP</li>
                    </ul>
                    <hr/>
                    
                    <p class="infoLabel" id="peso">Peso</p>
                    <ul id="weight">
                        <li>6.0 kg</li>
                    </ul>
                    <p class="infoLabel" id="altura">Altura</p>
                    <ul id="height">
                        <li>0.4 m</li>
                    </ul>
                    <hr id="pesoLine"/>
                    <hr id="alturaLine"/>
                    
                    <p class="infoLabel">Estadísticas</p>
                    <ul id="stats">
                        <li id="hp">HP:<p>35</li>
                        <li id="attack">Ataque:<p>55</p></li>
                        <li id="defense">Defensa:<p>40</p></li>
                        <li id="speed">Velocidad:<p>90</p></li>
                        <br>
                        <li id="special-attack">Ataque Especial:<p>50</p></li>
                        <li id="special-defense">Defensa Especial:<p>50</p></li>
                    </ul>
                    <hr/>
                    
                    <p class="infoLabel">Tipo</p>
                    <ul id="type">
                        <li>Electric</li>
                    </ul>
                    <hr/>
                    
                </div>
                
                <div class="goBack">
                    <ion-icon name="chevron-back-outline" ></ion-icon><a href="index.html">Regresar</a>
                </div>
            </div>
            
        </header>
        
 <!--***************************
            FOOTER
    *************************** -->   
        <footer>
            <div class="row">
                <img src="Images/Pokeball-Icon.png">
            </div>
            <div class="row">
                <p>Santiago Borobia Rodríguez</p>
            </div>
            <div class="row">
                <p>santiagoborobia1@hotmail.com</p> 
            </div>
        </footer>
    
    </div>
        
    <script src="https://unpkg.com/ionicons@5.2.3/dist/ionicons.js"></script>
</body>
    
<script>
    //Obtiene el id del pokemon seleccionado desde la session
    function getPokemon(){
        var id = sessionStorage.getItem("pokeId");
        
        fetch("https://pokeapi.co/api/v2/pokemon/"+id.toString())
        .then(function(response){
            response.json()
            .then(function(pokemon){
                getPokemonData(pokemon);
            })
        })
        //document.getElementById("pokeId").innerHTML = "pokemon numero:"+id;
        
    }
    
    function getPokemonData(pokemon){
        var name;
        var abilities;
        var baseExperience;
        var height;
        var image;
        var stats;
        var types;
        var weight;
        name = pokemon.name;
        abilities = pokemon.abilities;
        baseExperience = pokemon.base_experience;
        height = pokemon.height;
        image = pokemon.sprites.other.dream_world.front_default;
        stats = pokemon.stats;
        types = pokemon.types;
        weight = pokemon.weight;
        
        
        // Manejo de objetos JSON con mas de 1 dato console.log(stats[0].stat.name);
        // Length de objeto JSON console.log(Object.keys(abilities).length);
        //Para height (en metros) y weight (en kg) dividir entre 10.
        
        /*Para español:
        abilities = names[5]
        stats = todos son iguales => traducir hard coded
        types = names[4]
        */
    }
    
    function getAbility(ability){
        console.log(abilities[0].ability.url)
        fetch(abilities[0].ability.url)
        .then(function(response){
            response.json()
            .then(function(ability){
                console.log(ability.names[5].name)
            })
        })
        
    }
    
    
</script>
    
</html>