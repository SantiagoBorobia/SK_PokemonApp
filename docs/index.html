<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="Grid.css">
    <link rel="stylesheet" type="text/css" href="style-index.css">

	<title>Soluciones Kuali Front-end Challenge</title>
</head>
<body>
    <div id="wrapper">
        <header>
            <div class="row heading">
                <img class="logo-big" src="Images/PokemonLogo.png">
            </div>
            <div class="row intro">
                <div class="introText">
                    <h2>SK Frontend Challenge</h2>
                    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euis- mod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea com- modo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi.</p>
                </div>
                <div class="introImage">
                    <img src="Images/Pokeball.png">
                </div>
            </div>
        </header>
    
        <section class="lista">
            <div class="row">
                <div class="buscador">
                    <ion-icon name="search-outline"></ion-icon><input id="finder" placeholder="Buscar...">
                </div>
            </div>
            
            <div class="row">
                <div class="pokemonBox" id="poke1" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg1" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName1" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId1" class="pokeNumber">No. 005</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke2" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg2" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName2" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId2" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke3" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg3" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName3" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId3" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke4" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg4" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName4" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId4" class="pokeNumber">No.025</p>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="pokemonBox" id="poke5" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg5" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName5" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId5" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke6" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg6" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName6" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId6" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke7" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg7" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName7" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId7" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke8" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg8" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName8" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId8" class="pokeNumber">No.025</p>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="pokemonBox" id="poke9" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg9" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName9" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId9" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke10" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg10" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName10" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId10" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke11" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg11" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName11" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId11" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke12" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg12" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName12" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId12" class="pokeNumber">No.025</p>
                    </div>
                </div>
            </div>
    
            <div class="row">
                <div class="pokemonBox" id="poke13" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg13" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName13" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId13" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke14" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg14" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName14" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId14" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke15" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg15" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName15" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId15" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke16" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg16" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName16" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId16" class="pokeNumber">No.025</p>
                    </div>
                </div>
            </div>
                
            <div class="row">
                <div class="pokemonBox" id="poke17" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg17" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName17" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId17" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke18" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg18" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName18" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId18" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke19" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg19" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName19" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId19" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke20" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg20" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName20" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId20" class="pokeNumber">No.025</p>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="pokemonBox" id="poke21" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg21" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName21" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId21" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke22" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg22" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName22" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId22" class="pokeNumber">No.025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke23" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg23" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName23" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId23" class="pokeNumber">No. 025</p>
                    </div>
                </div>
                
                <div class="pokemonBox" id="poke24" onclick="selectPokemon(1)">
                    <div class="row">
                        <img id="pokeImg24" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png">
                    </div>
                    <div class="row">
                        <p id="pokeName24" class="pokeName">PIKACHU</p>
                    </div>
                    <div class="row">
                        <p id="pokeId24" class="pokeNumber">No.025</p>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <ul class="paginador">
                    <li id="Prev"><ion-icon name="chevron-back-outline"></ion-icon></li>
                    <li id="p1">1</li>
                    <li id="p2">2</li>
                    <li id="p3">3</li>
                    <li id="p4">4</li>
                    <li id="p5">5</li>
                    <li id="p6">6</li>
                    <li id="p7">7</li>
                    <li id="p8">8</li>
                    <li id="p9">9</li>
                    <li id="p10">10</li>
                    <li id="Next"><ion-icon name="chevron-forward-outline"></ion-icon></li>
                </ul>
            </div>
            <div class="row">
                <p id="actPage">Página 1/36 </p>
            </div>
        </section>
        
        <footer>
            <div class="row">
                <img src="Images/Pokeball-Icon.png">
            </div>
            <div class="row">
                <p>Santiago Borobia Rodríguez</p>
            </div>
            <div class="row">
                <p>santiagoborobia1@hotmail.com</p> 
            </div>
        </footer>
    
    </div>
    
            
            <!--
                <caption style="caption-side:bottom">
                    <p id="Prev" onclick="paginadorLeft()"><ion-icon name="caret-back-outline"></ion-icon>Prev</p>
                    <p id="Next" onclick="paginadorRight()">Next<ion-icon name="caret-forward-outline"></ion-icon></p>
                </caption>
                <caption style="caption-side:bottom">
                    <p id="pagina">Pagina 1/36</p>
                </caption>
            </table>
-->
        
    
    
    <script src="https://unpkg.com/ionicons@5.2.3/dist/ionicons.js"></script>
</body>

    
<!--
    JavaScript functionality
-->    
<script>
    
//*****************************
//    LLENADO DE TABLA
//*****************************
    var pokeIds = 1; //id del pokemon que aparece primero en la lista.
    var pag = 0; // pagina actual del paginador
    var cons = true;
    
	function fillTable(){
        var poke = pokeIds;
        var row = 1;
    
        while(cons && row<=24){
            cons = consultPokemon(poke, row);
            row = row + 1;
            poke = poke+1;
        }
        pokeIds=poke;
	}
    
    function consultPokemon(id, row){
        var res = true;
        fetch("https://pokeapi.co/api/v2/pokemon/"+id)
            .then(function(response){
                if(response.ok){
                    response.json()
                    .then(function(pokemon){
                        createPokemon(pokemon, row)
                    })
                }
                else{
                    console.log("No more pokemons");
                    res =  false;
                }
            })
            .catch((error) => {
                    //console.log(error);
                    res =  false;
                })
        return res;
    }
    
    function createPokemon(pokemon, row){
        var pokemonNumber = pokemon.id;
        var pokemonId;
        if(Math.trunc(pokemonNumber/100)==0){
            if(Math.trunc(pokemonNumber/10)==0){
                pokemonId="00"+pokemonNumber;
            }
            else{
                pokemonId="0"+pokemonNumber;
            }
        }
        var strHTML =   "<div class='row'>"+
                            "<img id='pokeImg"+row+"' src='"+pokemon.sprites.front_default+"'>"+
                        "</div>"+
                        "<div class='row'>"+
                            "<p id='pokeName"+row+"' class='pokeName'>"+pokemon.name+"</p>"+
                        "</div>"+
                        "<div class='row'>"+
                            "<p id='pokeId"+row+"' class='pokeNumber'>No. "+pokemonId+"</p>"+
                        "</div>";
                        
        var strRow = "poke"+row;
        document.getElementById(strRow).innerHTML = strHTML;
    }
    
    
    fillTable();
    
//*****************************
//   FUNCIONALIDAD PAGINADOR
//*****************************
    function paginadorLeft(){
        pag--;
        if(pag==0){
            document.getElementById("Prev").style.display = "none";
            document.getElementById("Next").style.paddingLeft = "0";
        }
        
        document.getElementById("Next").style.display = "inline-block";
        document.getElementById("pagina").innerHTML= "Pagina "+(pag+1)+"/36";
        pokeIds=pag*25+1;
        fillTable();
        
        
    }
    
    function paginadorRight(){
        pag++;
        document.getElementById("Prev").style.display = "inline-block";
        document.getElementById("pagina").innerHTML= "Pagina "+(pag+1)+"/36";
        fillTable();
        if(pag==35){
            document.getElementById("Next").style.display = "none";
            var i;
            for(i=19; i<26; i++){
                document.getElementById("row"+i).innerHTML="";
            }
        }
        if(pag==1){
            document.getElementById("Next").style.marginLeft="25%";
        }
        
        
    }
    
    //Obtiene el id del pokemon seleccionado y lo guarda en una "session"
    function selectPokemon(row){
        var id = document.getElementById("pokeId"+row).innerHTML;
        alert(parseInt(id.substr(4)));
        //sessionStorage.setItem("pokeId", id);
        //window.location.href = "pokemonInfo.html";
    }

</script>

    
</html>